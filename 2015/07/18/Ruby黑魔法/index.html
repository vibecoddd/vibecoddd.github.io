<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>
    
      Ruby黑魔法 | Mark&#39;s BLOG
    
  </title>

  <meta name="description" content="">

  <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

  <script src="https://use.fontawesome.com/releases/v5.15.3/js/all.js" crossorigin="anonymous"></script>

  <!-- Bootstrap core CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom Theme CSS -->
  
<link rel="stylesheet" href="/css/clean-blog.css">


  
    <link rel="canonical" href="/2015/07/18/Ruby%E9%BB%91%E9%AD%94%E6%B3%95/">
  

  <link rel="alternate" type="application/rss+xml" title="Mark&#39;s BLOG" href="/atom.xml">

  
    <link rel="icon" type="image/x-icon" href="/img/favicon.ico">
  

  

<meta name="generator" content="Hexo 7.1.1"></head>

<body>

  <!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
  <div class="container">
    <a class="navbar-brand" href="/">Mark&#39;s BLOG</a>
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
      Menu
      <i class="fas fa-bars"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav ml-auto">
        
          
            <li class="nav-item">
              
              
              

              
                
              

              <a class="nav-link" href="/">Home</a>
            </li>
          
            <li class="nav-item">
              
              
              

              
                
              

              <a class="nav-link" href="/about">About</a>
            </li>
          
            <li class="nav-item">
              
              
              

              
                
              

              <a class="nav-link" href="/archives">Posts</a>
            </li>
          
            <li class="nav-item">
              
              
              

              
                
              

              <a class="nav-link" href="/contact">Contact</a>
            </li>
          
        
      </ul>
    </div>
  </div>
</nav>

  <!-- Page Header -->
<header class="masthead" style="background-image: url('/img/post-bg.jpg')">
  <div class="overlay"></div>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        <div class="post-heading">
          <h1>Ruby黑魔法</h1>
          
          <span class="post-meta">
            Posted by
            
              Mark
            
            on July 18, 2015
            
              · 7 min read
            
          </span>
        </div>
      </div>
    </div>
  </div>
</header>

<!-- Post Content -->
<article>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        <h3 id="输出方法"><a href="#输出方法" class="headerlink" title="输出方法"></a>输出方法</h3><p> <strong>print方法：不自动换行</strong></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print <span class="string">&quot;hi,&quot;</span>,<span class="string">&quot;ruby!&quot;</span></span><br></pre></td></tr></table></figure>
<pre><code>输出：hi,ruby!
</code></pre>
<p> <strong>puts方法：自动换行</strong></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">puts <span class="string">&quot;hi,&quot;</span>,<span class="string">&quot;ruby!&quot;</span></span><br></pre></td></tr></table></figure>
<pre><code>输出：hi,
     ruby!
</code></pre>
<p><strong>p方法：区分数值与字符串,\n、\t输出时不会转义</strong></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">p <span class="number">1</span></span><br><span class="line">p <span class="string">&quot;1&quot;</span></span><br></pre></td></tr></table></figure>
<pre><code>输出：1
     &quot;1&quot;		
</code></pre>
<p><strong>pp方法：输出格式化文本</strong></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">require</span> <span class="string">&quot;pp&quot;</span></span><br><span class="line">v = [&#123;</span><br><span class="line">		<span class="symbol">word:</span> <span class="string">&quot;Hi&quot;</span>,</span><br><span class="line">		<span class="symbol">name:</span> <span class="string">&quot;Mark&quot;</span></span><br><span class="line">	&#125;]</span><br><span class="line">pp v</span><br></pre></td></tr></table></figure>
<pre><code>输出：[&#123;:word=&gt;&quot;Hi&quot;, 
       :name=&gt;&quot;Mark&quot;&#125;] #sublime实际输出是一行！！				 
</code></pre>
<h3 id="中文编码"><a href="#中文编码" class="headerlink" title="中文编码"></a>中文编码</h3><p><strong>首行代码添加注释#encoding：编码方式</strong></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#encoding: UTF-8</span></span><br><span class="line">print <span class="string">&quot;你好，Ruby!&quot;</span></span><br></pre></td></tr></table></figure>
<h3 id="输出变量"><a href="#输出变量" class="headerlink" title="输出变量"></a>输出变量</h3><p><strong>使用#{变量}的方式将变量输出到字符串</strong></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#encoding: UTF-8</span></span><br><span class="line">language = <span class="string">&quot;Ruby&quot;</span></span><br><span class="line">print <span class="string">&quot;我在学习<span class="subst">#&#123;language&#125;</span>!&quot;</span></span><br><span class="line"><span class="comment">#输出：我在学习Ruby!</span></span><br></pre></td></tr></table></figure>
<h3 id="times方法"><a href="#times方法" class="headerlink" title="times方法"></a>times方法</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">func_say</span>()</span><br><span class="line">	puts <span class="string">&quot;重要的话说三遍！&quot;</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="number">3</span>.times <span class="keyword">do</span> |<span class="params">i</span>|</span><br><span class="line">	puts <span class="string">&quot;第<span class="subst">#&#123;i+<span class="number">1</span>&#125;</span>遍&quot;</span></span><br><span class="line">	func_say()	</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<pre><code>输出：第1遍
     重要的话说三遍！
     第2遍
     重要的话说三遍！
     第3遍
     重要的话说三遍！
</code></pre>
<h3 id="符号"><a href="#符号" class="headerlink" title="符号"></a>符号</h3><p><strong>在字符串前加：（日后详解）</strong></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sym = <span class="symbol">:foo</span></span><br></pre></td></tr></table></figure>

<h3 id="正则匹配"><a href="#正则匹配" class="headerlink" title="正则匹配"></a>正则匹配</h3><p><strong>&#x2F;模式&#x2F; &#x3D;~ 字符串，&#x2F;模式&#x2F; i &#x3D;~ 字符串(加i表示不区分大小写)</strong></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">p /<span class="title class_">Ruby</span>/ =~ <span class="string">&quot;Hi,Ruby!&quot;</span></span><br><span class="line"><span class="comment">#输出是3，匹配成功首字符的位置，匹配失败返回nil</span></span><br></pre></td></tr></table></figure>
<h3 id="ARGV"><a href="#ARGV" class="headerlink" title="ARGV"></a>ARGV</h3><p><strong>ARGV读取命令行参数</strong></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#add.rb </span></span><br><span class="line">num_one = <span class="variable constant_">ARGV</span>[<span class="number">0</span>].to_i</span><br><span class="line">num_two = <span class="variable constant_">ARGV</span>[<span class="number">1</span>].to_i</span><br><span class="line">puts <span class="string">&quot;<span class="subst">#&#123;num_one+num_two&#125;</span>&quot;</span></span><br><span class="line"><span class="comment">#命令行输入：ruby ./Desktop/add.rb 1 2 </span></span><br><span class="line"><span class="comment">#输出：3</span></span><br></pre></td></tr></table></figure>
<h3 id="多重赋值"><a href="#多重赋值" class="headerlink" title="多重赋值"></a>多重赋值</h3><p><strong>变量前加*，表示将未分配的值封装成数组赋值给该变量</strong></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a,*b = <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span></span><br><span class="line">p a</span><br><span class="line">p b</span><br><span class="line"><span class="comment">=begin</span></span><br><span class="line"><span class="comment">输出：1</span></span><br><span class="line"><span class="comment">	 [2, 3]</span></span><br><span class="line"><span class="comment">=end</span>	 </span><br></pre></td></tr></table></figure>
<p><strong>交换变量的值</strong></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">10</span></span><br><span class="line">b = <span class="number">20</span></span><br><span class="line">a,b = b,a</span><br><span class="line">puts <span class="string">&quot;a=<span class="subst">#&#123;a&#125;</span>,b=<span class="subst">#&#123;b&#125;</span>&quot;</span></span><br><span class="line"><span class="comment">#输出：a=20,b=10</span></span><br></pre></td></tr></table></figure>
<p><strong>数组赋值</strong></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">arr = [<span class="number">10</span>,<span class="number">20</span>]</span><br><span class="line">a,b = arr </span><br><span class="line">puts <span class="string">&quot;a=<span class="subst">#&#123;a&#125;</span>,b=<span class="subst">#&#123;b&#125;</span>&quot;</span></span><br><span class="line"><span class="comment">#输出：a=10,b=20</span></span><br></pre></td></tr></table></figure>
<p><strong>嵌套数组赋值</strong></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">arr = [<span class="number">10</span>,[<span class="number">20</span>,<span class="number">30</span>]]</span><br><span class="line">a,(b,c) = arr </span><br><span class="line">puts <span class="string">&quot;a=<span class="subst">#&#123;a&#125;</span>,b=<span class="subst">#&#123;b&#125;</span>,c=<span class="subst">#&#123;c&#125;</span>&quot;</span></span><br><span class="line"><span class="comment">#输出：a=10,b=20,c=30</span></span><br></pre></td></tr></table></figure>
      </div>
    </div>
  </div>
</article>

<hr>

<!-- Post Navigation -->
<div class="container">
  <div class="row">
    <div class="col-lg-8 col-md-10 mx-auto">
      <ul class="pager">
        
          <li class="previous">
            <a href="/2016/09/22/LLVM%E6%8E%A2%E7%A9%B6/" data-toggle="tooltip" data-placement="top" title="LLVM探究">&larr; Previous Post</a>
          </li>
        
        
          <li class="next">
            <a href="/2014/04/18/Cocos2d-x2-2%E4%BD%BF%E7%94%A8Admob%E6%8F%92%E5%B1%8F%E5%B9%BF%E5%91%8A%E6%95%99%E7%A8%8B-%E4%B8%80-%EF%BC%9AiOS%E7%AF%87/" data-toggle="tooltip" data-placement="top" title="Cocos2d-x2.2使用Admob插屏广告教程(一)：iOS篇">Next Post &rarr;</a>
          </li>
        
      </ul>
    </div>
  </div>
</div>

  <!-- Footer -->
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        <ul class="list-inline text-center">
          
            
            
            
            
            
            
              <li class="list-inline-item">
                <a href="mailto:your-email@example.com">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="far fa-envelope fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
            
          
        </ul>
        
          <p class="copyright text-muted">
            Copyright &copy; Mark 2024
          </p>
        
      </div>
    </div>
  </div>
</footer>

  <!-- Bootstrap core JavaScript -->
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>

<!-- Contact Form JavaScript -->
<script src="/js/jqBootstrapValidation.js"></script>
<script src="/js/contact_me.js"></script>

<!-- Custom Theme JavaScript -->
<script src="/js/clean-blog.js"></script>



  

</body>
</html>